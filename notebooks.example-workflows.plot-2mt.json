{"version":2,"kind":"Notebook","sha256":"0198248e995c93d7e3404ce5bd948ad4e34a4b704c950ab1ad9c40c7a7b64446","slug":"notebooks.example-workflows.plot-2mt","location":"/notebooks/example-workflows/plot-2mt.ipynb","dependencies":[],"frontmatter":{"title":"Plotting HRRR 2-meter temperatures","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Kevin Tyle","given":"Kevin","family":"Tyle"},"name":"Kevin Tyle","orcid":"0000-0001-5249-9665","email":"ktyle@albany.edu","affiliations":["University at Albany","Project Pythia"],"bluesky":"@nywxguy.bsky.social","twitter":"nywxguy","id":"contributors-myst-generated-uid-0","corresponding":true},{"nameParsed":{"literal":"The Project Pythia Community","given":"The Project Pythia","family":"Community"},"name":"The Project Pythia Community","id":"contributors-myst-generated-uid-1"}],"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/projectpythia/HRRR-AWS-cookbook","copyright":"2025","affiliations":[{"id":"University at Albany","name":"University at Albany"},{"id":"Project Pythia","name":"Project Pythia"},{"id":"University at Albany (State University of New York)","name":"University at Albany (State University of New York)"},{"id":"UCAR/NCAR","name":"UCAR/NCAR"}],"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/HRRR-AWS-cookbook/blob/main/notebooks/example-workflows/plot-2mt.ipynb","thumbnail":"/HRRR-AWS-cookbook/build/xarray_aws_zarr-15430bcb97023d2eb2b576897ccfe79d.png","exports":[{"format":"ipynb","filename":"plot-2mt.ipynb","url":"/HRRR-AWS-cookbook/build/plot-2mt-f373ab2d754e1b7d46d893238dd7e296.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"image","url":"/HRRR-AWS-cookbook/build/xarray_aws_zarr-15430bcb97023d2eb2b576897ccfe79d.png","key":"Sb7Vz6rRoU","urlSource":"../images/xarray_aws_zarr.png"}],"key":"TSIcz33UID"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plotting HRRR 2-meter temperatures","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QTZCMNVTyY"}],"identifier":"plotting-hrrr-2-meter-temperatures","label":"Plotting HRRR 2-meter temperatures","html_id":"plotting-hrrr-2-meter-temperatures","implicit":true,"key":"tmaRHhnbZW"}],"key":"ThrcyDawZ7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vRcmFInmM2"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"LqTwE8Wz7J"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Access archived HRRR data hosted on AWS in Zarr format","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"SRhxxEgDNe"}],"key":"x07tVI4WvT"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Visualize one of the variables (2m temperature) at an analysis time","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cwL85Tt5lh"}],"key":"fLZnjWtHgO"}],"key":"DDXOuuHUV0"}],"key":"tPAqyF57du"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zAr0WQq6pW"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"oJpZl4L7ZJ"},{"type":"table","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Concepts","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gHSbzocgqD"}],"key":"mqKYyMNfU0"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mKsakqGPuT"}],"key":"bmHFQioACU"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"bjaXL1IaXV"}],"key":"vkFIDMIdVB"}],"key":"wIDcfMgQfs"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Xarray Lessons 1-9","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"C0JbjFCFlA"}],"key":"OqjH5BNHjQ"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"RCdVjCpHYL"}],"key":"ATm64r6FBc"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[],"key":"uqFnO6gJsQ"}],"key":"IxIwL3BBn3"}],"key":"q0DxmlBZXF"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Time to learn","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"zDgMHjR3w7"}],"key":"Fhnh0I1Khn"},{"type":"text","value":": 30 minutes","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"iXcbW4UUhh"}],"key":"utvE5bu3SY"}],"key":"nvk8KrexVz"},{"type":"thematicBreak","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"yuOHRF0nom"}],"key":"W1jAcioafH"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MMRtkOjBNC"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"etoPwuMZJu"}],"key":"McLeRrKGqk"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import xarray as xr\nimport metpy\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport cartopy.crs as ccrs\nimport cartopy.feature as cfeature\nimport pandas as pd\nimport s3fs\nfrom importlib.metadata import version","key":"Ox6XGuEpP0"},{"type":"output","id":"lKV5Z-LJo2w1GLL83oKUv","data":[],"key":"wecKHilpEV"}],"key":"CPFC3MKewO"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What is Zarr?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FgnLoZK2ti"}],"identifier":"what-is-zarr","label":"What is Zarr?","html_id":"what-is-zarr","implicit":true,"key":"GkRc2fiawz"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Gridded datasets, especially those produced by operational meteorological centers such as NCEP and ECMWF, are typically in NetCDF and GRIB formats. Zarr is a relatively new data format. It is particularly relevant in the following two scenarios:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UVhgMKyrQH"}],"key":"nbpE8CzOxP"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Datasets that are stored in what’s called ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"oNVzXfZntF"},{"type":"emphasis","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"object store","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"aaoYmdgijG"}],"key":"s21R7i1Z9q"},{"type":"text","value":". This is a commonly-used storage method for cloud providers, such as Amazon, Google, and Microsoft.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Ns7Y0gjwLG"}],"key":"KxuDY6S2PT"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Datasets that are typically too large to load into memory all at once.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"X4b0Gl9UTZ"}],"key":"lvIT9YltuA"}],"key":"leyzwr0uk9"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Xarray supports the Zarr format in addition to NetCDF and GRIB. The ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"UyC5nLSJ8D"},{"type":"link","url":"https://pangeo.io","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Pangeo","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"DZTeOYwrJb"}],"urlSource":"https://pangeo.io","key":"xQ5N6fv1RL"},{"type":"text","value":" project specifically recommends Zarr as the Xarray-amenable data format of choice in the cloud:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"M3gV5wzluo"}],"key":"fNei4gamO3"},{"type":"blockquote","position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"“Our current preference for storing multidimensional array data in the cloud is the Zarr format. Zarr is a new storage format which, thanks to its simple yet well-designed specification, makes large datasets easily accessible to distributed computing. In Zarr datasets, the arrays are divided into chunks and compressed. These individual chunks can be stored as files on a filesystem or as objects in a cloud storage bucket. The metadata are stored in lightweight .json files. Zarr works well on both local filesystems and cloud-based object stores. Existing datasets can easily be converted to zarr via xarray’s zarr functions.”","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Rtnl0bcdrY"}],"key":"ukRfefdevP"}],"key":"vQLkqqMMIi"}],"key":"kUVFLOiUB3"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Access archived HRRR data hosted on AWS in Zarr format","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TwK46b6paS"}],"identifier":"access-archived-hrrr-data-hosted-on-aws-in-zarr-format","label":"Access archived HRRR data hosted on AWS in Zarr format","html_id":"access-archived-hrrr-data-hosted-on-aws-in-zarr-format","implicit":true,"key":"YOPyvyVDPP"}],"key":"agRZXCF5aZ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"For a number of years, the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"m64eSo5PwC"},{"type":"link","url":"https://mesowest.utah.edu/","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Mesowest","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"M6a6IXLDMw"}],"urlSource":"https://mesowest.utah.edu/","key":"wIAIncwyYq"},{"type":"text","value":" group at the University of Utah has hosted an archive of data from NCEP’s High Resolution Rapid Refresh model. This data, originally in GRIB-2 format, has been converted into Zarr and is freely available “in the cloud”, on ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uirdxuOgtD"},{"type":"link","url":"https://aws.amazon.com/s3/","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Amazon Web Service’s Simple Storage Service","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qpuTMYEhTa"}],"urlSource":"https://aws.amazon.com/s3/","key":"l3EfODppj7"},{"type":"text","value":", otherwise known as ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Hsrx8QPTF9"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"S3","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"S6Ouurcrls"}],"key":"zNzg3rBXqD"},{"type":"text","value":". Data is stored in S3 in a manner akin to (but different from) a Linux filesystem, using a ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"T2lRMgCvTE"},{"type":"link","url":"https://docs.aws.amazon.com/AmazonS3/latest/userguide/Welcome.html#CoreConcepts","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"bucket","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hoD0VEysAE"}],"key":"GND907kiIu"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o6AuBvy2A9"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"object","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OpVQavirCj"}],"key":"D3zD3Yycfd"}],"urlSource":"https://docs.aws.amazon.com/AmazonS3/latest/userguide/Welcome.html#CoreConcepts","key":"vvFXhKJwmI"},{"type":"text","value":" model.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MzBEX0uefN"}],"key":"HbyAS3dpeU"}],"key":"e27uZAd6ib"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To interactively browse the contents of this archive, go to this link: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q8gkoRqBx8"},{"type":"link","url":"https://hrrrzarr.s3.amazonaws.com/index.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"HRRRZarr File Browser on AWS","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eLCUmOyZJi"}],"urlSource":"https://hrrrzarr.s3.amazonaws.com/index.html","key":"I6h62ExtCx"}],"key":"JmBjqYXat1"}],"key":"Bt6MGspdQ8"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To access Zarr-formatted data stored in an S3 bucket, we follow a 3-step process:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"y0aynqD75o"}],"key":"Q17dJWxA5c"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Create URL(s) pointing to the bucket and object(s) that contain the data we want","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"cYu6IM4Eiv"}],"key":"S4XAHzVjfZ"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Create ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uxx4Sq3DHC"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"map(s)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FdMnwfS61O"}],"key":"CsBMc6gWvY"},{"type":"text","value":" to the object(s) with the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IHno4gveYd"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"s3fs","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"t7C3xWN1Ta"}],"key":"avyf2qcKAb"},{"type":"text","value":" library’s ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SJpZGYyfTd"},{"type":"inlineCode","value":"S3Map","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CQjD9bGwQX"},{"type":"text","value":" method","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jmEdAgXhJv"}],"key":"SSczImQEWD"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Pass the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"gWFRVVOs3a"},{"type":"emphasis","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"map(s)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"CYrTyqTZ1s"}],"key":"FiE5d4oAS5"},{"type":"text","value":" to Xarray’s ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"dI7Oc9Yu8T"},{"type":"inlineCode","value":"open_dataset","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"zN0BSCaDZ2"},{"type":"text","value":" or ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"glyz90EBOY"},{"type":"inlineCode","value":"open_mfdataset","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kLdmX9ev5z"},{"type":"text","value":" methods, and specify ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"rtEmNsoW1c"},{"type":"inlineCode","value":"zarr","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"u1Eoc7wXNq"},{"type":"text","value":" as the format, via the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"zA3W7Zd3Cb"},{"type":"inlineCode","value":"engine","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"n5NkK4VnTN"},{"type":"text","value":" argument.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ttcVMEku1p"}],"key":"kr0VdKVGVx"}],"key":"FohF9QHEGi"}],"key":"d1qzQNJucw"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-info","children":[{"type":"text","value":"A quirk in how these grids were converted from GRIB2 to Zarr means that the dimension variables are defined one directory up from where the data variables are. Thus, our strategy is to use Xarray's ","key":"VVm9DtZPaE"},{"type":"inlineCode","value":"open_mfdataset","key":"qjT1et1QTZ"},{"type":"text","value":" method and pass in two AWS S3 file references to these two corresponding directories.","key":"NnHGqlbSch"}],"key":"bh8PYlWtI5"}],"key":"iRVBAQ04fh"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create the URLs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Gf6oFe05vI"}],"key":"hxd99QvmYj"}],"key":"jcXVSz5YSB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"date = '20210214'\nhour = '12'\nvar = 'TMP'\nlevel = '2m_above_ground'\nurl1 = 's3://hrrrzarr/sfc/' + date + '/' + date + '_' + hour + 'z_anl.zarr/' + level + '/' + var + '/' + level\nurl2 = 's3://hrrrzarr/sfc/' + date + '/' + date + '_' + hour + 'z_anl.zarr/' + level + '/' + var","key":"BUrdpNOqgC"},{"type":"output","id":"C9PSwJMbJ1G6_xr3WZ8z1","data":[],"key":"Ue06NlyyJ1"}],"key":"Z0EM2MduJh"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-info","children":[{"type":"text","value":"In this case, ","key":"OJhblkJPM8"},{"type":"strong","children":[{"type":"text","value":"hrrrzarr","key":"ikprobec1o"}],"key":"qssE5DL1Xt"},{"type":"text","value":" is the S3 ","key":"VfCFzr0DoU"},{"type":"emphasis","children":[{"type":"text","value":"bucket","key":"Fyqrbl6Ort"}],"key":"iXzhRv7I3G"},{"type":"text","value":" name. ","key":"yfA4UTL5ky"},{"type":"strong","children":[{"type":"text","value":"2m_above_ground","key":"E2APN2Djaz"}],"key":"mV6ILONwwL"},{"type":"text","value":" and ","key":"kH1DbQlkTW"},{"type":"strong","children":[{"type":"text","value":"TMP","key":"VdTEV45PGB"}],"key":"qhEUI3S67j"},{"type":"text","value":" are both ","key":"VChHae3cAd"},{"type":"emphasis","children":[{"type":"text","value":"objects","key":"I7A2J8TFJp"}],"key":"qWx5bWCwTx"},{"type":"text","value":" within the ","key":"pDeLjY5bM5"},{"type":"strong","children":[{"type":"text","value":"bucket","key":"pjHxFsJB2T"}],"key":"rZNtHC1Fk8"},{"type":"text","value":". The former object has the 2-meter temperature array, while the latter contains the coordinate arrays of the spatial dimensions of 2m temperature (i.e., x and y).","key":"cKZ9ofunkt"}],"key":"lfaB4GjlH7"}],"key":"jXgMVoxRiQ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Connect to the S3 object store. With the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"huud1CN0Zw"},{"type":"link","url":"https://zarr.readthedocs.io/en/latest/user-guide/v3_migration.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"release of Zarr version 3","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hjBS17SKOd"}],"urlSource":"https://zarr.readthedocs.io/en/latest/user-guide/v3_migration.html","key":"hfnBnMXxxM"},{"type":"text","value":", the methods to do this have changed from version 2 (see, e.g. Zarr issues ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Vxa1XOItBb"},{"type":"link","url":"https://github.com/zarr-developers/zarr-python/issues/2706","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2706","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IAkp6EfzKR"}],"urlSource":"https://github.com/zarr-developers/zarr-python/issues/2706","data":{"kind":"issue","org":"zarr-developers","repo":"zarr-python","issue_number":"2706"},"internal":false,"protocol":"github","key":"Zqltx8NtO3"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XIieiUo10d"},{"type":"link","url":"https://github.com/zarr-developers/zarr-python/issues/2748","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2748","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wJDPbT2Ele"}],"urlSource":"https://github.com/zarr-developers/zarr-python/issues/2748","data":{"kind":"issue","org":"zarr-developers","repo":"zarr-python","issue_number":"2748"},"internal":false,"protocol":"github","key":"eQOe0Ronry"},{"type":"text","value":") . Test which version is installed and use the appropriate methodology.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"x159OujDUA"}],"key":"NhxyoAHvGW"}],"key":"ZZs3WqWeIi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"package = \"zarr\"\npackage_version = version(package)\nmajor_version = int(package_version.split(\".\")[0])  # Extract the major version\n\nif major_version == 3:      \n    import zarr\n    # strip leading 's3://' from url\n    url1_3 = url1[5:]\n    url2_3 = url2[5:]\n    fs = s3fs.S3FileSystem(anon=True, asynchronous=True)\n    file1 = zarr.storage.FsspecStore(fs, path=url1_3)\n    file2 = zarr.storage.FsspecStore(fs, path=url2_3)\nelse:\n    fs = s3fs.S3FileSystem(anon=True, asynchronous=False)\n    file1 = s3fs.S3Map(url1, s3=fs)\n    file2 = s3fs.S3Map(url2, s3=fs)","key":"Epk5Poq3Yc"},{"type":"output","id":"zDc6Obuyk-3KO2-ZxmCQb","data":[],"key":"SRWpi3fKBD"}],"key":"eK2q8ozDYQ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Use Xarray’s ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fPmKB14cNx"},{"type":"inlineCode","value":"open_mfdataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XNAvV0aZ3l"},{"type":"text","value":" to create a ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Eb3GuJTOnL"},{"type":"inlineCode","value":"Dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KFEfGrxLLK"},{"type":"text","value":" from these two S3 objects.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yRekqPnuIb"}],"key":"PPE8Y6caHK"}],"key":"VHuzYSxHDs"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds = xr.open_mfdataset([file1,file2], engine='zarr')","key":"l0esvicGb8"},{"type":"output","id":"-sNmQ3LtTPa_2jkRuszTp","data":[{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_3490/4282494168.py:1: FutureWarning: In a future version, xarray will not decode timedelta values based on the presence of a timedelta-like units attribute by default. Instead it will rely on the presence of a timedelta64 dtype attribute, which is now xarray's default way of encoding timedelta64 values. To continue decoding timedeltas based on the presence of a timedelta-like units attribute, users will need to explicitly opt-in by passing True or CFTimedeltaCoder(decode_via_units=True) to decode_timedelta. To silence this warning, set decode_timedelta to True, False, or a 'CFTimedeltaCoder' instance.\n  ds = xr.open_mfdataset([file1,file2], engine='zarr')\n"}],"key":"yK1YcUHSQV"}],"key":"EI24IQtqdS"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Examine the dataset.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GBysHcNV7d"}],"key":"KgkjICVCHu"}],"key":"NjJIyC8eJ5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds","key":"H1LFYgZIpB"},{"type":"output","id":"_Cju10YSBUl8iMLz8tSao","data":[{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 4MB\nDimensions:                  (projection_y_coordinate: 1059,\n                              projection_x_coordinate: 1799)\nCoordinates:\n  * projection_x_coordinate  (projection_x_coordinate) float64 14kB -2.698e+0...\n  * projection_y_coordinate  (projection_y_coordinate) float64 8kB -1.587e+06...\nData variables:\n    TMP                      (projection_y_coordinate, projection_x_coordinate) float16 4MB dask.array<chunksize=(150, 150), meta=np.ndarray>\n    forecast_period          timedelta64[ns] 8B ...\n    forecast_reference_time  datetime64[ns] 8B ...\n    height                   float64 8B ...\n    pressure                 float64 8B ...\n    time                     datetime64[ns] 8B ...","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"5c9c1effb888f050dfbbd07117ef4221","path":"/HRRR-AWS-cookbook/build/5c9c1effb888f050dfbbd07117ef4221.html"}}}],"key":"ydUAtEg6Z6"}],"key":"Y2gEE0eUPa"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get the map projection for the HRRR, which is stored in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"O6Of8QLXAu"},{"type":"inlineCode","value":"grid","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"b3RB1iKsEY"},{"type":"text","value":" folder in the AWS bucket.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cLBfMNBC53"}],"key":"i58Onm823a"}],"key":"A5lgg6fWVD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"HRRR_proj = pd.read_json (\"https://hrrrzarr.s3.amazonaws.com/grid/projparams.json\", orient=\"index\")\nHRRR_proj","key":"ohUFiH7nPa"},{"type":"output","id":"-I_hXgnxkOxfpatyCw_-q","data":[{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/plain":{"content":"             0\na      6371229\nb      6371229\nproj       lcc\nlon_0    262.5\nlat_0     38.5\nlat_1     38.5\nlat_2     38.5","content_type":"text/plain"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>0</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>a</th>\n      <td>6371229</td>\n    </tr>\n    <tr>\n      <th>b</th>\n      <td>6371229</td>\n    </tr>\n    <tr>\n      <th>proj</th>\n      <td>lcc</td>\n    </tr>\n    <tr>\n      <th>lon_0</th>\n      <td>262.5</td>\n    </tr>\n    <tr>\n      <th>lat_0</th>\n      <td>38.5</td>\n    </tr>\n    <tr>\n      <th>lat_1</th>\n      <td>38.5</td>\n    </tr>\n    <tr>\n      <th>lat_2</th>\n      <td>38.5</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"}}}],"key":"pPzfQApS9w"}],"key":"MaJNvHNGp1"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"lat_0 = HRRR_proj.loc['lat_0'].astype('float32').squeeze()\nlat_1 = HRRR_proj.loc['lat_1'].astype('float32').squeeze()\nlat_2 = HRRR_proj.loc['lat_2'].astype('float32').squeeze()\nlon_0 = HRRR_proj.loc['lon_0'].astype('float32').squeeze()\na = HRRR_proj.loc['a'].astype('float32').squeeze()\nb = HRRR_proj.loc['b'].astype('float32').squeeze()\n\nprojData= ccrs.LambertConformal(central_longitude=lon_0, central_latitude=lat_0,\n                                standard_parallels=[lat_1,lat_2],\n                                globe=ccrs.Globe(semimajor_axis=a, semiminor_axis=b))","key":"Q5h46xQ9jq"},{"type":"output","id":"_zU0R3Ym86Ckj9eainNNJ","data":[],"key":"zgFju6GgjG"}],"key":"zlRDloQ51x"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-warning","children":[{"type":"strong","children":[{"type":"text","value":"Note: ","key":"jjN7ly9dWb"}],"key":"BQe2fa1Nol"},{"type":"text","value":"The HRRR's projection assumes a ","key":"Fd59LGTwHo"},{"type":"emphasis","children":[{"type":"text","value":"spherical earth","key":"zt7Q39LKwk"}],"key":"Vd5Pc2uxhr"},{"type":"text","value":", whose semi-major/minor axes are both equal to 6371.229 km. We therefore need to explicitly define a ","key":"z27lU3uk9v"},{"type":"inlineCode","value":"Globe","key":"NhSyZGpGdg"},{"type":"text","value":" in Cartopy with these values.","key":"tmCn5qsWtV"}],"key":"k7nuIszxX3"}],"key":"PCj1M603cM"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Examine the dataset’s coordinate variables. Each x- and y- value represents distance in meters from the central latitude and longitude.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MMJeMhj3am"}],"key":"iRkxI9cnYA"}],"key":"FYrfuZZG52"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds.coords","key":"w7rVda9R7d"},{"type":"output","id":"3spMaCZL70yaOQP-NscnK","data":[{"output_type":"execute_result","execution_count":8,"metadata":{},"data":{"text/plain":{"content":"Coordinates:\n  * projection_x_coordinate  (projection_x_coordinate) float64 14kB -2.698e+0...\n  * projection_y_coordinate  (projection_y_coordinate) float64 8kB -1.587e+06...","content_type":"text/plain"}}}],"key":"WZVet8vMhF"}],"key":"m0Aja5lwWK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create an object pointing to the dataset’s data variable.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CgXDASUnv0"}],"key":"innH8S2nKU"}],"key":"thmkPumuu9"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airTemp = ds.TMP","key":"XUT7RBIHDb"},{"type":"output","id":"YWmuE4dn4SqOqRJULcrxU","data":[],"key":"C7FQr5X5oS"}],"key":"qXHAT9f1XA"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"When we examine the object, we see that it is a special type of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VedEZp2UCb"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UVZLCe9epC"},{"type":"text","value":" ... a ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yGFPsQeD55"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"link","url":"https://docs.dask.org/en/latest/array.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"DaskArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TIZ9G8u0WX"}],"urlSource":"https://docs.dask.org/en/latest/array.html","key":"beZZltKYLh"}],"key":"vPI0x5iDFk"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LAeDtwoBA4"}],"key":"M9bqfhxdDi"}],"key":"CagSpwoTR3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airTemp","key":"R2jm303ybz"},{"type":"output","id":"hi5tmPNUY4JP1InsaDeAB","data":[{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'TMP' (projection_y_coordinate: 1059,\n                         projection_x_coordinate: 1799)> Size: 4MB\ndask.array<open_dataset-TMP, shape=(1059, 1799), dtype=float16, chunksize=(150, 150), chunktype=numpy.ndarray>\nCoordinates:\n  * projection_x_coordinate  (projection_x_coordinate) float64 14kB -2.698e+0...\n  * projection_y_coordinate  (projection_y_coordinate) float64 8kB -1.587e+06...\nAttributes:\n    GRIB_PARAM:  [2, 0, 0, 0]\n    long_name:   2m_above_ground/TMP\n    units:       K","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;TMP&#x27; (projection_y_coordinate: 1059,\n                         projection_x_coordinate: 1799)&gt; Size: 4MB\ndask.array&lt;open_dataset-TMP, shape=(1059, 1799), dtype=float16, chunksize=(150, 150), chunktype=numpy.ndarray&gt;\nCoordinates:\n  * projection_x_coordinate  (projection_x_coordinate) float64 14kB -2.698e+0...\n  * projection_y_coordinate  (projection_y_coordinate) float64 8kB -1.587e+06...\nAttributes:\n    GRIB_PARAM:  [2, 0, 0, 0]\n    long_name:   2m_above_ground/TMP\n    units:       K</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'TMP'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>projection_y_coordinate</span>: 1059</li><li><span class='xr-has-index'>projection_x_coordinate</span>: 1799</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-3aa94239-3ac6-4d2d-b1cd-65f614c4f22f' class='xr-array-in' type='checkbox' checked><label for='section-3aa94239-3ac6-4d2d-b1cd-65f614c4f22f' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>dask.array&lt;chunksize=(150, 150), meta=np.ndarray&gt;</span></div><div class='xr-array-data'><table>\n    <tr>\n        <td>\n            <table style=\"border-collapse: collapse;\">\n                <thead>\n                    <tr>\n                        <td> </td>\n                        <th> Array </th>\n                        <th> Chunk </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    \n                    <tr>\n                        <th> Bytes </th>\n                        <td> 3.63 MiB </td>\n                        <td> 43.95 kiB </td>\n                    </tr>\n                    \n                    <tr>\n                        <th> Shape </th>\n                        <td> (1059, 1799) </td>\n                        <td> (150, 150) </td>\n                    </tr>\n                    <tr>\n                        <th> Dask graph </th>\n                        <td colspan=\"2\"> 96 chunks in 2 graph layers </td>\n                    </tr>\n                    <tr>\n                        <th> Data type </th>\n                        <td colspan=\"2\"> float16 numpy.ndarray </td>\n                    </tr>\n                </tbody>\n            </table>\n        </td>\n        <td>\n        <svg width=\"170\" height=\"120\" style=\"stroke:rgb(0,0,0);stroke-width:1\" >\n\n  <!-- Horizontal lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"120\" y2=\"0\" style=\"stroke-width:2\" />\n  <line x1=\"0\" y1=\"10\" x2=\"120\" y2=\"10\" />\n  <line x1=\"0\" y1=\"20\" x2=\"120\" y2=\"20\" />\n  <line x1=\"0\" y1=\"30\" x2=\"120\" y2=\"30\" />\n  <line x1=\"0\" y1=\"40\" x2=\"120\" y2=\"40\" />\n  <line x1=\"0\" y1=\"50\" x2=\"120\" y2=\"50\" />\n  <line x1=\"0\" y1=\"60\" x2=\"120\" y2=\"60\" />\n  <line x1=\"0\" y1=\"70\" x2=\"120\" y2=\"70\" />\n  <line x1=\"0\" y1=\"70\" x2=\"120\" y2=\"70\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"0\" y2=\"70\" style=\"stroke-width:2\" />\n  <line x1=\"10\" y1=\"0\" x2=\"10\" y2=\"70\" />\n  <line x1=\"20\" y1=\"0\" x2=\"20\" y2=\"70\" />\n  <line x1=\"30\" y1=\"0\" x2=\"30\" y2=\"70\" />\n  <line x1=\"40\" y1=\"0\" x2=\"40\" y2=\"70\" />\n  <line x1=\"50\" y1=\"0\" x2=\"50\" y2=\"70\" />\n  <line x1=\"60\" y1=\"0\" x2=\"60\" y2=\"70\" />\n  <line x1=\"70\" y1=\"0\" x2=\"70\" y2=\"70\" />\n  <line x1=\"80\" y1=\"0\" x2=\"80\" y2=\"70\" />\n  <line x1=\"90\" y1=\"0\" x2=\"90\" y2=\"70\" />\n  <line x1=\"100\" y1=\"0\" x2=\"100\" y2=\"70\" />\n  <line x1=\"110\" y1=\"0\" x2=\"110\" y2=\"70\" />\n  <line x1=\"120\" y1=\"0\" x2=\"120\" y2=\"70\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"0.0,0.0 120.0,0.0 120.0,70.63924402445804 0.0,70.63924402445804\" style=\"fill:#ECB172A0;stroke-width:0\"/>\n\n  <!-- Text -->\n  <text x=\"60.000000\" y=\"90.639244\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" >1799</text>\n  <text x=\"140.000000\" y=\"35.319622\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(-90,140.000000,35.319622)\">1059</text>\n</svg>\n        </td>\n    </tr>\n</table></div></div></li><li class='xr-section-item'><input id='section-ec8ccc2c-e327-4512-a326-23b3a5507eb1' class='xr-section-summary-in' type='checkbox'  checked><label for='section-ec8ccc2c-e327-4512-a326-23b3a5507eb1' class='xr-section-summary' >Coordinates: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>projection_x_coordinate</span></div><div class='xr-var-dims'>(projection_x_coordinate)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-2.698e+06 -2.695e+06 ... 2.696e+06</div><input id='attrs-c770b1f9-6ebb-4d00-857f-4896723d8450' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c770b1f9-6ebb-4d00-857f-4896723d8450' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b552c1e0-6013-4972-b05f-48c97c342b8d' class='xr-var-data-in' type='checkbox'><label for='data-b552c1e0-6013-4972-b05f-48c97c342b8d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>projection_x_coordinate</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array([-2697520.142522, -2694520.142522, -2691520.142522, ...,  2690479.857478,\n        2693479.857478,  2696479.857478], shape=(1799,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>projection_y_coordinate</span></div><div class='xr-var-dims'>(projection_y_coordinate)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-1.587e+06 -1.584e+06 ... 1.587e+06</div><input id='attrs-9ff8ec44-6ebf-4a17-9b5c-02e1b625353c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-9ff8ec44-6ebf-4a17-9b5c-02e1b625353c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-062ea121-2ab2-4a21-8461-ae349ec61fe4' class='xr-var-data-in' type='checkbox'><label for='data-062ea121-2ab2-4a21-8461-ae349ec61fe4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>projection_y_coordinate</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array([-1587306.152557, -1584306.152557, -1581306.152557, ...,  1580693.847443,\n        1583693.847443,  1586693.847443], shape=(1059,))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-4a810ef0-1738-44ea-88b3-7fe237014e54' class='xr-section-summary-in' type='checkbox'  ><label for='section-4a810ef0-1738-44ea-88b3-7fe237014e54' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>projection_x_coordinate</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-cc0ded36-1e83-422c-825a-0a2f00cdd064' class='xr-index-data-in' type='checkbox'/><label for='index-cc0ded36-1e83-422c-825a-0a2f00cdd064' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([-2697520.1425219304, -2694520.1425219304, -2691520.1425219304,\n       -2688520.1425219304, -2685520.1425219304, -2682520.1425219304,\n       -2679520.1425219304, -2676520.1425219304, -2673520.1425219304,\n       -2670520.1425219304,\n       ...\n        2669479.8574780696,  2672479.8574780696,  2675479.8574780696,\n        2678479.8574780696,  2681479.8574780696,  2684479.8574780696,\n        2687479.8574780696,  2690479.8574780696,  2693479.8574780696,\n        2696479.8574780696],\n      dtype=&#x27;float64&#x27;, name=&#x27;projection_x_coordinate&#x27;, length=1799))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>projection_y_coordinate</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-dd4af071-c42c-43a9-9e4a-765818d52a30' class='xr-index-data-in' type='checkbox'/><label for='index-dd4af071-c42c-43a9-9e4a-765818d52a30' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([-1587306.1525566636, -1584306.1525566636, -1581306.1525566636,\n       -1578306.1525566636, -1575306.1525566636, -1572306.1525566636,\n       -1569306.1525566636, -1566306.1525566636, -1563306.1525566636,\n       -1560306.1525566636,\n       ...\n        1559693.8474433364,  1562693.8474433364,  1565693.8474433364,\n        1568693.8474433364,  1571693.8474433364,  1574693.8474433364,\n        1577693.8474433364,  1580693.8474433364,  1583693.8474433364,\n        1586693.8474433364],\n      dtype=&#x27;float64&#x27;, name=&#x27;projection_y_coordinate&#x27;, length=1059))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-cc50b068-587b-471c-a276-f8194dc75ec6' class='xr-section-summary-in' type='checkbox'  checked><label for='section-cc50b068-587b-471c-a276-f8194dc75ec6' class='xr-section-summary' >Attributes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>GRIB_PARAM :</span></dt><dd>[2, 0, 0, 0]</dd><dt><span>long_name :</span></dt><dd>2m_above_ground/TMP</dd><dt><span>units :</span></dt><dd>K</dd></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"ZDjBbsDwRk"}],"key":"D57LU2z1CH"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Sidetrip: Dask","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rjSflmuK3h"}],"identifier":"sidetrip-dask","label":"Sidetrip: Dask","html_id":"sidetrip-dask","implicit":true,"key":"SLSb31qUiw"}],"key":"vE7ORLImz5"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-info","children":[{"type":"text","value":"Dask is a Python library that is especially well-suited for handling very large datasets (especially those that are too large to fit into RAM) and is nicely integrated with Xarray. We're going to defer a detailed exploration of Dask for now. But suffice it to say that when we use ","key":"ZUwRxDCBup"},{"type":"inlineCode","value":"open_mfdataset","key":"fAfrd3Zxrd"},{"type":"text","value":", the resulting objects are ","key":"tYReSiOLSQ"},{"type":"emphasis","children":[{"type":"text","value":"Dask","key":"YKLTT7FMoR"}],"key":"Omop15vt0P"},{"type":"text","value":" objects.","key":"nVuVxuvLVA"}],"key":"clSCAGEpwo"}],"key":"Yn20swSM49"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"MetPy supports Dask arrays, and so performing a unit conversion is straightforward.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VTB9HbVCBx"}],"key":"usYUOzGKKY"}],"key":"FySu6paj6n"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airTemp = airTemp.metpy.convert_units('degC')","key":"OoJUyIojdu"},{"type":"output","id":"rayaGWXi9rjUiWVdUXUTP","data":[],"key":"WRUPDo0Ws6"}],"key":"Nsl4hGNt1Q"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Verify that the object has the unit change","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"I1kqeo2WrZ"}],"key":"tXGwxXa17n"}],"key":"llJcY6M8Tl"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airTemp","key":"xLV1omhPne"},{"type":"output","id":"qLqXSoRf6WWcjDLHGcq3f","data":[{"output_type":"execute_result","execution_count":12,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'TMP' (projection_y_coordinate: 1059,\n                         projection_x_coordinate: 1799)> Size: 4MB\n<Quantity(dask.array<truediv, shape=(1059, 1799), dtype=float16, chunksize=(150, 150), chunktype=numpy.ndarray>, 'degree_Celsius')>\nCoordinates:\n  * projection_x_coordinate  (projection_x_coordinate) float64 14kB -2.698e+0...\n  * projection_y_coordinate  (projection_y_coordinate) float64 8kB -1.587e+06...\nAttributes:\n    GRIB_PARAM:  [2, 0, 0, 0]\n    long_name:   2m_above_ground/TMP","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;TMP&#x27; (projection_y_coordinate: 1059,\n                         projection_x_coordinate: 1799)&gt; Size: 4MB\n&lt;Quantity(dask.array&lt;truediv, shape=(1059, 1799), dtype=float16, chunksize=(150, 150), chunktype=numpy.ndarray&gt;, &#x27;degree_Celsius&#x27;)&gt;\nCoordinates:\n  * projection_x_coordinate  (projection_x_coordinate) float64 14kB -2.698e+0...\n  * projection_y_coordinate  (projection_y_coordinate) float64 8kB -1.587e+06...\nAttributes:\n    GRIB_PARAM:  [2, 0, 0, 0]\n    long_name:   2m_above_ground/TMP</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'TMP'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>projection_y_coordinate</span>: 1059</li><li><span class='xr-has-index'>projection_x_coordinate</span>: 1799</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-63404653-7a54-4c64-bcce-92fd347dce0f' class='xr-array-in' type='checkbox' checked><label for='section-63404653-7a54-4c64-bcce-92fd347dce0f' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>&lt;Quantity(dask.array&lt;truediv, shape=(1059, 1799), dtype=float16, ch...</span></div><div class='xr-array-data'><table><tbody><tr><th>Magnitude</th><td style='text-align:left;'><table>\n    <tr>\n        <td>\n            <table style=\"border-collapse: collapse;\">\n                <thead>\n                    <tr>\n                        <td> </td>\n                        <th> Array </th>\n                        <th> Chunk </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    \n                    <tr>\n                        <th> Bytes </th>\n                        <td> 3.63 MiB </td>\n                        <td> 43.95 kiB </td>\n                    </tr>\n                    \n                    <tr>\n                        <th> Shape </th>\n                        <td> (1059, 1799) </td>\n                        <td> (150, 150) </td>\n                    </tr>\n                    <tr>\n                        <th> Dask graph </th>\n                        <td colspan=\"2\"> 96 chunks in 5 graph layers </td>\n                    </tr>\n                    <tr>\n                        <th> Data type </th>\n                        <td colspan=\"2\"> float16 numpy.ndarray </td>\n                    </tr>\n                </tbody>\n            </table>\n        </td>\n        <td>\n        <svg width=\"170\" height=\"120\" style=\"stroke:rgb(0,0,0);stroke-width:1\" >\n\n  <!-- Horizontal lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"120\" y2=\"0\" style=\"stroke-width:2\" />\n  <line x1=\"0\" y1=\"10\" x2=\"120\" y2=\"10\" />\n  <line x1=\"0\" y1=\"20\" x2=\"120\" y2=\"20\" />\n  <line x1=\"0\" y1=\"30\" x2=\"120\" y2=\"30\" />\n  <line x1=\"0\" y1=\"40\" x2=\"120\" y2=\"40\" />\n  <line x1=\"0\" y1=\"50\" x2=\"120\" y2=\"50\" />\n  <line x1=\"0\" y1=\"60\" x2=\"120\" y2=\"60\" />\n  <line x1=\"0\" y1=\"70\" x2=\"120\" y2=\"70\" />\n  <line x1=\"0\" y1=\"70\" x2=\"120\" y2=\"70\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"0\" y2=\"70\" style=\"stroke-width:2\" />\n  <line x1=\"10\" y1=\"0\" x2=\"10\" y2=\"70\" />\n  <line x1=\"20\" y1=\"0\" x2=\"20\" y2=\"70\" />\n  <line x1=\"30\" y1=\"0\" x2=\"30\" y2=\"70\" />\n  <line x1=\"40\" y1=\"0\" x2=\"40\" y2=\"70\" />\n  <line x1=\"50\" y1=\"0\" x2=\"50\" y2=\"70\" />\n  <line x1=\"60\" y1=\"0\" x2=\"60\" y2=\"70\" />\n  <line x1=\"70\" y1=\"0\" x2=\"70\" y2=\"70\" />\n  <line x1=\"80\" y1=\"0\" x2=\"80\" y2=\"70\" />\n  <line x1=\"90\" y1=\"0\" x2=\"90\" y2=\"70\" />\n  <line x1=\"100\" y1=\"0\" x2=\"100\" y2=\"70\" />\n  <line x1=\"110\" y1=\"0\" x2=\"110\" y2=\"70\" />\n  <line x1=\"120\" y1=\"0\" x2=\"120\" y2=\"70\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"0.0,0.0 120.0,0.0 120.0,70.63924402445804 0.0,70.63924402445804\" style=\"fill:#ECB172A0;stroke-width:0\"/>\n\n  <!-- Text -->\n  <text x=\"60.000000\" y=\"90.639244\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" >1799</text>\n  <text x=\"140.000000\" y=\"35.319622\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(-90,140.000000,35.319622)\">1059</text>\n</svg>\n        </td>\n    </tr>\n</table></td></tr><tr><th>Units</th><td style='text-align:left;'>degree_Celsius</td></tr></tbody></table></div></div></li><li class='xr-section-item'><input id='section-92d2e1d8-b7de-4f2d-8f4f-872e35d0b914' class='xr-section-summary-in' type='checkbox'  checked><label for='section-92d2e1d8-b7de-4f2d-8f4f-872e35d0b914' class='xr-section-summary' >Coordinates: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>projection_x_coordinate</span></div><div class='xr-var-dims'>(projection_x_coordinate)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-2.698e+06 -2.695e+06 ... 2.696e+06</div><input id='attrs-3cbaf666-faeb-496b-89ba-ad9d48b9beb7' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-3cbaf666-faeb-496b-89ba-ad9d48b9beb7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0c59e839-e033-40a0-9617-41f6e2bc0470' class='xr-var-data-in' type='checkbox'><label for='data-0c59e839-e033-40a0-9617-41f6e2bc0470' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>projection_x_coordinate</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array([-2697520.142522, -2694520.142522, -2691520.142522, ...,  2690479.857478,\n        2693479.857478,  2696479.857478], shape=(1799,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>projection_y_coordinate</span></div><div class='xr-var-dims'>(projection_y_coordinate)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-1.587e+06 -1.584e+06 ... 1.587e+06</div><input id='attrs-9ba47857-9ab0-42eb-9cc5-6826052547e7' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-9ba47857-9ab0-42eb-9cc5-6826052547e7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e0c721d7-2eb6-498e-b0f2-bb16c04566c2' class='xr-var-data-in' type='checkbox'><label for='data-e0c721d7-2eb6-498e-b0f2-bb16c04566c2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>projection_y_coordinate</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array([-1587306.152557, -1584306.152557, -1581306.152557, ...,  1580693.847443,\n        1583693.847443,  1586693.847443], shape=(1059,))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-80e92dab-192b-42ab-bfaf-d20b0eaa2dcf' class='xr-section-summary-in' type='checkbox'  ><label for='section-80e92dab-192b-42ab-bfaf-d20b0eaa2dcf' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>projection_x_coordinate</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-b9c17700-16fe-47fb-8110-29c1b77bf1aa' class='xr-index-data-in' type='checkbox'/><label for='index-b9c17700-16fe-47fb-8110-29c1b77bf1aa' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([-2697520.1425219304, -2694520.1425219304, -2691520.1425219304,\n       -2688520.1425219304, -2685520.1425219304, -2682520.1425219304,\n       -2679520.1425219304, -2676520.1425219304, -2673520.1425219304,\n       -2670520.1425219304,\n       ...\n        2669479.8574780696,  2672479.8574780696,  2675479.8574780696,\n        2678479.8574780696,  2681479.8574780696,  2684479.8574780696,\n        2687479.8574780696,  2690479.8574780696,  2693479.8574780696,\n        2696479.8574780696],\n      dtype=&#x27;float64&#x27;, name=&#x27;projection_x_coordinate&#x27;, length=1799))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>projection_y_coordinate</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-efa399a5-e95e-43ea-b3ea-a2de4a06e61d' class='xr-index-data-in' type='checkbox'/><label for='index-efa399a5-e95e-43ea-b3ea-a2de4a06e61d' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([-1587306.1525566636, -1584306.1525566636, -1581306.1525566636,\n       -1578306.1525566636, -1575306.1525566636, -1572306.1525566636,\n       -1569306.1525566636, -1566306.1525566636, -1563306.1525566636,\n       -1560306.1525566636,\n       ...\n        1559693.8474433364,  1562693.8474433364,  1565693.8474433364,\n        1568693.8474433364,  1571693.8474433364,  1574693.8474433364,\n        1577693.8474433364,  1580693.8474433364,  1583693.8474433364,\n        1586693.8474433364],\n      dtype=&#x27;float64&#x27;, name=&#x27;projection_y_coordinate&#x27;, length=1059))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-1e47b36f-bffe-4aec-9792-9fc97668a113' class='xr-section-summary-in' type='checkbox'  checked><label for='section-1e47b36f-bffe-4aec-9792-9fc97668a113' class='xr-section-summary' >Attributes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>GRIB_PARAM :</span></dt><dd>[2, 0, 0, 0]</dd><dt><span>long_name :</span></dt><dd>2m_above_ground/TMP</dd></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"eprLOxYgZ2"}],"key":"kiEZ8IwyhE"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Similar to what we did for datasets whose projection-related coordinates were latitude and longitude, we define objects pointing to x and y now, so we can pass them to the plotting functions.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"le4wvL49zc"}],"key":"zwNQPJIKqy"}],"key":"pEgo2sQ5ZA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"x = airTemp.projection_x_coordinate\ny = airTemp.projection_y_coordinate","key":"QfQMdAkGbg"},{"type":"output","id":"6CD9wN9QBtTgOgtkQMAgj","data":[],"key":"XnLtJoRiKd"}],"key":"zd8xz8iJP0"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize 2m temperature at an analysis time","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"k6DhIRrrDO"}],"identifier":"visualize-2m-temperature-at-an-analysis-time","label":"Visualize 2m temperature at an analysis time","html_id":"visualize-2m-temperature-at-an-analysis-time","implicit":true,"key":"eYpdSRK4N5"}],"key":"A5zo6SEkvF"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"First, just use Xarray’s ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ibu1pfsWgC"},{"type":"inlineCode","value":"plot","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hgnUeNIvKp"},{"type":"text","value":" function to get a quick look to verify that things look right.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"I0gmIAMQss"}],"key":"it7RpE2lzq"}],"key":"E9XFR5gPDN"},{"type":"block","kind":"notebook-code","data":{"tags":["remove-stderr"]},"children":[{"type":"code","lang":"python","executable":true,"value":"airTemp.plot(figsize=(11,8.5))","visibility":"show","key":"C6az6KwXAu"},{"type":"output","id":"X7lIeOPS8d1Gv1Gx1a5Pi","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1100x850 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"c0a425240f01c485fc6963f4af22e3fa","path":"/HRRR-AWS-cookbook/build/c0a425240f01c485fc6963f4af22e3fa.png"}}}],"visibility":"show","key":"uy4DcCIo0q"}],"visibility":"show","key":"fqKCyrGuzX"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To facilitate the bounds of the contour intervals, obtain the min and max values from this ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"auEdlUfSAf"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Xx14xAVUV5"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"W7IwssTjiU"}],"key":"i9ePj6WM6Q"}],"key":"qQVgWJXhG5"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-warning","children":[{"type":"text","value":"A Dask array is even more ","key":"d98VDSuv9U"},{"type":"emphasis","children":[{"type":"text","value":"lazy","key":"jgV9B5ZS9U"}],"key":"OX30sDZHZK"},{"type":"text","value":" in terms of its data loading than a basic ","key":"k1aZv3rGo1"},{"type":"inlineCode","value":"DataArray","key":"rGWHBmqiU9"},{"type":"text","value":" in Xarray. If we want to perform a computation on this array, e.g. calculate the mean, min, or max, note that we don't get a result straightaway ... we get another Dask array.","key":"f8dHQe6ni0"}],"key":"pXhqqzyPEn"}],"key":"cvTGgKIfpA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airTemp.min()","key":"h3YbZvBvYf"},{"type":"output","id":"WEdtk7IOLjgwGJSuHFiTh","data":[{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'TMP' ()> Size: 2B\n<Quantity(dask.array<_nanmin_skip-aggregate, shape=(), dtype=float16, chunksize=(), chunktype=numpy.ndarray>, 'degree_Celsius')>","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;TMP&#x27; ()&gt; Size: 2B\n&lt;Quantity(dask.array&lt;_nanmin_skip-aggregate, shape=(), dtype=float16, chunksize=(), chunktype=numpy.ndarray&gt;, &#x27;degree_Celsius&#x27;)&gt;</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'TMP'</div></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-0765c957-8883-4523-aced-7456c15791c4' class='xr-array-in' type='checkbox' checked><label for='section-0765c957-8883-4523-aced-7456c15791c4' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>&lt;Quantity(dask.array&lt;_nanmin_skip-aggregate, shape=(), dtype=float1...</span></div><div class='xr-array-data'><table><tbody><tr><th>Magnitude</th><td style='text-align:left;'><table>\n    <tr>\n        <td>\n            <table style=\"border-collapse: collapse;\">\n                <thead>\n                    <tr>\n                        <td> </td>\n                        <th> Array </th>\n                        <th> Chunk </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    \n                    <tr>\n                        <th> Bytes </th>\n                        <td> 2 B </td>\n                        <td> 2 B </td>\n                    </tr>\n                    \n                    <tr>\n                        <th> Shape </th>\n                        <td> () </td>\n                        <td> () </td>\n                    </tr>\n                    <tr>\n                        <th> Dask graph </th>\n                        <td colspan=\"2\"> 1 chunks in 10 graph layers </td>\n                    </tr>\n                    <tr>\n                        <th> Data type </th>\n                        <td colspan=\"2\"> float16 numpy.ndarray </td>\n                    </tr>\n                </tbody>\n            </table>\n        </td>\n        <td>\n        \n        </td>\n    </tr>\n</table></td></tr><tr><th>Units</th><td style='text-align:left;'>degree_Celsius</td></tr></tbody></table></div></div></li><li class='xr-section-item'><input id='section-7b46ab58-e473-498a-8b64-968c77027075' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-7b46ab58-e473-498a-8b64-968c77027075' class='xr-section-summary'  title='Expand/collapse section'>Coordinates: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'></ul></div></li><li class='xr-section-item'><input id='section-8d4715a6-2d2d-43e3-903b-f819a6897d3f' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-8d4715a6-2d2d-43e3-903b-f819a6897d3f' class='xr-section-summary'  title='Expand/collapse section'>Indexes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'></ul></div></li><li class='xr-section-item'><input id='section-dc795965-41dc-4c78-b82c-c8087d64498c' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-dc795965-41dc-4c78-b82c-c8087d64498c' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"lgpQu2kOYc"}],"key":"T4a0in1jas"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-info","children":[{"type":"text","value":"With Dask arrays, applying the min and max functions doesn't actually do the computation ... instead, it is creating a ","key":"MSkdH50xH4"},{"type":"emphasis","children":[{"type":"text","value":"task graph","key":"Y0l1EFEBWf"}],"key":"AXL02XKEyo"},{"type":"text","value":" which describes how the computations would be launched. You will need to call Dask's ","key":"m0wl32tA2I"},{"type":"inlineCode","value":"compute","key":"xu8O33rBOt"},{"type":"text","value":" function to actually trigger the computation.","key":"wz6imzCKpm"}],"key":"HLs6xZ99VT"}],"key":"NbtZoOIXJq"},{"type":"block","kind":"notebook-code","data":{"tags":["remove-stderr"]},"children":[{"type":"code","lang":"python","executable":true,"value":"minTemp = airTemp.min().compute()\nmaxTemp = airTemp.max().compute()","visibility":"show","key":"iHfJl8fzCd"},{"type":"output","id":"vJQ440uHK6aiVbUYyICsQ","data":[],"visibility":"show","key":"OYQdCjdpUQ"}],"visibility":"show","key":"lsELJLpDoB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"minTemp.values, maxTemp.values","key":"bYraULcEPT"},{"type":"output","id":"VOADmB1lFYnHuprCaVqPR","data":[{"output_type":"execute_result","execution_count":17,"metadata":{},"data":{"text/plain":{"content":"(array(-42.38, dtype=float16), array(26., dtype=float16))","content_type":"text/plain"}}}],"key":"fweYjIP9Tk"}],"key":"l1oNqAKyNz"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Based on the min and max, define a range of values used for contouring. Let’s invoke NumPy’s ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EOCdvFPl94"},{"type":"inlineCode","value":"floor","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CBWFgFlo4h"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gubvB4jSLH"},{"type":"inlineCode","value":"ceil","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"emTs1jystv"},{"type":"text","value":"(ing) functions so these values conform to whatever variable we are contouring.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"m8QIoblyK5"}],"key":"YEqcSj8JXa"}],"key":"kWQw1VeAba"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fint = np.arange(np.floor(minTemp.values),np.ceil(maxTemp.values) + 2, 2)","key":"kwsHCuAPI3"},{"type":"output","id":"HSk2uNN9mGUQ4vxItWHLK","data":[],"key":"iy6GnrEyHp"}],"key":"jtL4MF4iCA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fint","key":"uxij4Qikqa"},{"type":"output","id":"IPwY8XTNDeE4i76RF4AI3","data":[{"output_type":"execute_result","execution_count":19,"metadata":{},"data":{"text/plain":{"content":"array([-43., -41., -39., -37., -35., -33., -31., -29., -27., -25., -23.,\n       -21., -19., -17., -15., -13., -11.,  -9.,  -7.,  -5.,  -3.,  -1.,\n         1.,   3.,   5.,   7.,   9.,  11.,  13.,  15.,  17.,  19.,  21.,\n        23.,  25.,  27.])","content_type":"text/plain"}}}],"key":"yp7DxfEGd5"}],"key":"px1WrOaf6x"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-warning","children":[{"type":"text","value":"For a single map, setting the contour fill values as we did above is appropriate. But if you were producing a series of maps that span a range of times, a consistent (and thus wider) range of values would be better.","key":"GbQu2I2A0W"}],"key":"mFkE2RJoea"}],"key":"II1CwiKNQe"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the map","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KzipsopBhx"}],"identifier":"plot-the-map","label":"Plot the map","html_id":"plot-the-map","implicit":true,"key":"h5US9ciooh"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We’ll define the plot extent to nicely encompass the HRRR’s spatial domain.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"NJX56FFZur"}],"key":"nZ7fTmtDR9"}],"key":"Cbrmz1nCIO"},{"type":"block","kind":"notebook-code","data":{"tags":["remove-stderr"]},"children":[{"type":"code","lang":"python","executable":true,"value":"latN = 50.4\nlatS = 24.25\nlonW = -123.8\nlonE = -71.2\n\nres = '50m'\n\nfig = plt.figure(figsize=(18,12))\nax = fig.add_subplot(1,1,1,projection=projData)\nax.set_extent ([lonW,lonE,latS,latN],crs=ccrs.PlateCarree())\nax.add_feature(cfeature.COASTLINE.with_scale(res))\nax.add_feature(cfeature.STATES.with_scale(res))\n\n# Add the title\ntl1 = 'HRRR 2m temperature (°C)'\ntl2 = f'Analysis valid at: {hour}00 UTC {date}'  \nax.set_title(f'{tl1}\\n{tl2}',fontsize=16)\n# Contour fill\nCF = ax.contourf(x,y,airTemp,levels=fint,cmap=plt.get_cmap('coolwarm'))\n# Make a colorbar for the ContourSet returned by the contourf call.\ncbar = fig.colorbar(CF,shrink=0.5)\ncbar.set_label(f'2m Temperature (°C)', size='large')","visibility":"show","key":"BsKOC4ePTK"},{"type":"output","id":"XHt_9tmSSYTNYDZUFocgN","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1800x1200 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"f03e2dc2e48635290b3afe32b384fc1b","path":"/HRRR-AWS-cookbook/build/f03e2dc2e48635290b3afe32b384fc1b.png"}}}],"visibility":"show","key":"azEpfWTMyf"}],"visibility":"show","key":"y1RiEQ5x6c"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q5OKSaAnS0"},{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"qxYfqbb5DA"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"rAP7G0G69O"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Xarray can read gridded datasets in Zarr format, which is ideal for a cloud-based object store system such as S3.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Pj54cWIHtU"}],"key":"GborezMtkx"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Xarray and MetPy both support ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"VnVJ0pKq3Y"},{"type":"emphasis","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Dask","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"OyVIwKQsuT"}],"key":"owgtMIV9be"},{"type":"text","value":", a library that is particularly well-suited for very large datasets.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"CKs36deugX"}],"key":"OM6p16G3kj"}],"key":"QrnFCvpx5u"},{"type":"heading","depth":2,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"What’s next?","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"fjHKPkjvdC"}],"identifier":"whats-next","label":"What’s next?","html_id":"whats-next","implicit":true,"key":"Wzz6Xu3qcX"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"On your own, browse the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"J0wGci0F8U"},{"type":"link","url":"https://hrrrzarr.s3.amazonaws.com/index.html","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"hrrrzarr","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ouSzN0QZv8"}],"key":"g8xgJsenSj"}],"urlSource":"https://hrrrzarr.s3.amazonaws.com/index.html","key":"OalrcK3vsq"},{"type":"text","value":" S3 bucket. Try making maps for different variables and/or different times.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"g5yarmNMqQ"}],"key":"VaWaDqUwqu"},{"type":"heading","depth":2,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Resources and References","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Aqlmfx6Wok"}],"identifier":"resources-and-references","label":"Resources and References","html_id":"resources-and-references","implicit":true,"key":"O0JJR6ssaY"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"link","url":"https://mesowest.utah.edu/html/hrrr/","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"HRRR in Zarr format","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Au8L3zUnJw"}],"urlSource":"https://mesowest.utah.edu/html/hrrr/","key":"wlHkBbbk8P"}],"key":"eBSj0o7RlS"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"link","url":"https://registry.opendata.aws/noaa-hrrr-pds/","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"NCEP’s HRRR S3 archive (GRIB format)","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"xlbFNXHsRL"}],"urlSource":"https://registry.opendata.aws/noaa-hrrr-pds/","key":"pGF1Ml6xut"}],"key":"LZ1I0ayPSi"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"link","url":"https://docs.aws.amazon.com/AmazonS3/latest/userguide/Welcome.html","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"What is ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"M6pAWr2vvR"},{"type":"emphasis","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"object store","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"VYWd68oeVU"}],"key":"eQyjYGS40c"},{"type":"text","value":"?","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"A8RWoR0ffh"}],"urlSource":"https://docs.aws.amazon.com/AmazonS3/latest/userguide/Welcome.html","key":"Dl8ieyrC71"}],"key":"myCVLAahRN"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"link","url":"http://xarray.pydata.org/en/stable/user-guide/dask.html","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Xarray’s Dask implementation","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"wUS3Tudi6M"}],"urlSource":"http://xarray.pydata.org/en/stable/user-guide/dask.html","key":"uWTBm5NzE7"}],"key":"VZoHW66VzN"}],"key":"SjorS9Kcg5"}],"key":"YE9gUNVX5b"}],"key":"pE98wvZsE0"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"How to Cite This Cookbook","url":"/notebooks/how-to-cite","group":"Preamble"}}},"domain":"http://localhost:3000"}